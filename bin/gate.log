msg_queue ctor
msg_queue ctor
bBroadcast ctor start!
task ctor! isvalied = 0, data = (nil)
init task i = 0, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 1, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 2, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 3, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 4, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 5, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 6, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 7, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 8, isvalied = 0
task ctor! isvalied = 0, data = (nil)
init task i = 9, isvalied = 0
hello thread! id = 0
thread id = 0, task isvalied = 0, data = (nil)
hello thread! id = 1
thread id = 1, task isvalied = 0, data = (nil)
hello thread! id = 2
thread id = 2, task isvalied = 0, data = (nil)
hello thread! id = 3
thread id = 3, task isvalied = 0, data = (nil)
hello thread! id = 4
thread id = 4, task isvalied = 0, data = (nil)
hello thread! id = 5
thread id = 5, task isvalied = 0, data = (nil)
hello thread! id = 6
thread id = 6, task isvalied = 0, data = (nil)
hello thread! id = 7
thread id = 7, task isvalied = 0, data = (nil)
hello thread! id = 8
thread id = 8, task isvalied = 0, data = (nil)
bBroadcast ctor end!
init network start
hello thread! id = 9
thread id = 9, task isvalied = 0, data = (nil)
load gate_server_for_client config, ip:192.168.80.3, port:4445
init network start
epoll add new socket 4
init network start
load gate_server_for_server config, ip:192.168.80.3, port:4444
init network start
epoll add new socket 6
load game_server config, ip:192.168.80.3, port:3333
client addr is 55617728 : 676
epoll add new socket 7
debug: m_listenfd is 6
debug: m_listenfd is 4
epoll add new socket 8
go next epoll
Epoll event EPOLLIN fd = 8
new message, fd is 8
message enqueue, pos = 0, flag is 0
start recv msg data head
bug bug bug fd = 8, m_in = 35, m_out = 0, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 19
recv 19 byte data
recv msg complete
message enqueue, pos = 1, flag is 0
start recv msg data head
bug bug bug fd = 8, m_in = 35, m_out = 35, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 0, flag is 1
msg decode pb
Epoll event EPOLLIN fd = 8
new message, fd is 8
message enqueue, pos = 2, flag is 0
start recv msg data head
bug bug bug fd = 8, m_in = 169, m_out = 35, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 118
recv 118 byte data
recv msg complete
message enqueue, pos = 3, flag is 0
start recv msg data head
bug bug bug fd = 8, m_in = 169, m_out = 169, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 2, flag is 1
send data to fd 7, len is 134
send data success left should be 0: 0
epoll add new socket 9
go next epoll
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 0, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 16, m_out = 0, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 1, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 16, m_out = 16, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 0, flag is 1
msg type is 0
new player login usrid is 172542746, fd is 9
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 2, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 37, m_out = 16, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 5
recv 5 byte data
recv msg complete
message enqueue, pos = 3, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 37, m_out = 37, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 2, flag is 1
msg type is 3
send data to fd 7, len is 21
send data success left should be 0: 0
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 4, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 53, m_out = 37, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 5, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 53, m_out = 53, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 4, flag is 1
msg type is 3
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 4, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 91, m_out = 0, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 32
recv 32 byte data
recv msg complete
message enqueue, pos = 5, flag is 0
start recv msg data head
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 27
recv 27 byte data
recv msg complete
message enqueue, pos = 6, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 91, m_out = 91, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 4, flag is 1
gate_server::run_server msg type is usrsync.
message dequeue, pos = 5, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 6, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 74, m_out = 53, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 5
recv 5 byte data
recv msg complete
message enqueue, pos = 7, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 74, m_out = 74, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 6, flag is 1
msg type is 3
send data to fd 7, len is 21
send data success left should be 0: 0
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 8, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 90, m_out = 74, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 9, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 90, m_out = 90, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 8, flag is 1
msg type is 3
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 7, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 182, m_out = 91, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 32
recv 32 byte data
recv msg complete
message enqueue, pos = 8, flag is 0
start recv msg data head
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 27
recv 27 byte data
recv msg complete
message enqueue, pos = 9, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 182, m_out = 182, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 7, flag is 1
gate_server::run_server msg type is usrsync.
message dequeue, pos = 8, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 10, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 111, m_out = 90, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 5
recv 5 byte data
recv msg complete
message enqueue, pos = 11, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 111, m_out = 111, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 10, flag is 1
msg type is 3
send data to fd 7, len is 21
send data success left should be 0: 0
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 12, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 127, m_out = 111, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 13, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 127, m_out = 127, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 12, flag is 1
msg type is 3
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 10, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 273, m_out = 182, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 32
recv 32 byte data
recv msg complete
message enqueue, pos = 11, flag is 0
start recv msg data head
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 27
recv 27 byte data
recv msg complete
message enqueue, pos = 12, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 273, m_out = 273, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 10, flag is 1
gate_server::run_server msg type is usrsync.
message dequeue, pos = 11, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 14, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 148, m_out = 127, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 5
recv 5 byte data
recv msg complete
message enqueue, pos = 15, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 148, m_out = 148, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 14, flag is 1
msg type is 3
send data to fd 7, len is 21
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 13, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 321, m_out = 273, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 32
recv 32 byte data
recv msg complete
message enqueue, pos = 14, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 321, m_out = 321, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 13, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 16, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 164, m_out = 148, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 17, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 164, m_out = 164, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 16, flag is 1
msg type is 3
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 15, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 364, m_out = 321, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 27
recv 27 byte data
recv msg complete
message enqueue, pos = 16, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 364, m_out = 364, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 15, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 18, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 185, m_out = 164, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 5
recv 5 byte data
recv msg complete
message enqueue, pos = 19, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 185, m_out = 185, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 18, flag is 1
msg type is 3
send data to fd 7, len is 21
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 17, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 412, m_out = 364, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 32
recv 32 byte data
recv msg complete
message enqueue, pos = 18, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 412, m_out = 412, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 17, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 20, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 211, m_out = 185, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 10
recv 10 byte data
recv msg complete
message enqueue, pos = 21, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 211, m_out = 211, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 20, flag is 1
msg type is 3
send data to fd 7, len is 26
send data success left should be 0: 0
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 22, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 232, m_out = 211, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 5
recv 5 byte data
recv msg complete
message enqueue, pos = 23, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 232, m_out = 232, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 22, flag is 1
msg type is 3
send data to fd 7, len is 21
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 19, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 518, m_out = 412, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 37
recv 37 byte data
recv msg complete
message enqueue, pos = 20, flag is 0
start recv msg data head
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 37
recv 37 byte data
recv msg complete
message enqueue, pos = 21, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 518, m_out = 518, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 19, flag is 1
gate_server::run_server msg type is usrsync.
message dequeue, pos = 20, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 24, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 248, m_out = 232, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 25, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 248, m_out = 248, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 24, flag is 1
msg type is 3
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 22, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 566, m_out = 518, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 32
recv 32 byte data
recv msg complete
message enqueue, pos = 23, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 566, m_out = 566, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 22, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 26, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 269, m_out = 248, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 5
recv 5 byte data
recv msg complete
message enqueue, pos = 27, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 269, m_out = 269, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 26, flag is 1
msg type is 3
send data to fd 7, len is 21
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 24, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 619, m_out = 566, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 37
recv 37 byte data
recv msg complete
message enqueue, pos = 25, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 619, m_out = 619, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 24, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 28, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 285, m_out = 269, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 29, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 285, m_out = 285, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 28, flag is 1
msg type is 3
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 26, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 667, m_out = 619, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 32
recv 32 byte data
recv msg complete
message enqueue, pos = 27, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 667, m_out = 667, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 26, flag is 1
gate_server::run_server msg type is usrsync.
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 30, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 301, m_out = 285, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 31, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 301, m_out = 301, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 30, flag is 1
msg type is 1
client exit usrid = 172542746
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 7
new message, fd is 7
message enqueue, pos = 28, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 683, m_out = 667, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 29, flag is 0
start recv msg data head
bug bug bug fd = 7, m_in = 683, m_out = 683, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 28, flag is 1
gate_server::run_server msg type is userexit.
Broadcast::runtask start, data len = 16
broadcast::runtask start! num = 0
broadcast::runtask start! num = 0
Broadcast::runtask start, data len = 16
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 32, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 317, m_out = 301, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 33, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 317, m_out = 317, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 32, flag is 1
msg type is 1
client exit usrid = 172542746
send data to fd 7, len is 16
send data success left should be 0: 0
Epoll event EPOLLIN fd = 9
new message, fd is 9
message enqueue, pos = 34, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 333, m_out = 317, _length = 16
recv 16 byte data
msg decode head
msg decode head end
msg data body len is 0
recv 0 byte data
recv msg complete
message enqueue, pos = 35, flag is 0
start recv msg data head
bug bug bug fd = 9, m_in = 333, m_out = 333, _length = 16
Net::recvmsg errorid = -2
, /home/blue/Code/TcpDemo/Net/Net.cpp:203
go next epoll
message dequeue, pos = 34, flag is 1
msg type is 1
client exit usrid = 172542746
send data to fd 7, len is 16
send dat